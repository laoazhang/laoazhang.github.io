<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Using Keyframes &#8211; WebKit CSS Animation Examples &#8211; Laoazhang! Blog</title>
<meta name="description" content="">
<meta name="keywords" content="">

<!-- Twitter cards -->
<meta name="twitter:site"    content="@laoazhang">
<meta name="twitter:creator" content="@laoazhang">


<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="https://laoazhang.cn/assets/images/avatar.jpg">



<meta name="twitter:title"   content="Using Keyframes &#8211; WebKit CSS Animation Examples">



<meta name="twitter:description" content="If you only do what you can do, you will never be more than you are now">


<!-- end of Twitter cards -->

<!-- Web Monetization | Interledger -->
<meta name="monetization" content="$ilp.uphold.com/6NxbkHNq9N84">
<meta name="monetization" content="$twitter.xrptipbot.com/laoazhang" />

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Using Keyframes &#8211; WebKit CSS Animation Examples">
<meta property="og:description" content="If you only do what you can do, you will never be more than you are now">
<meta property="og:url" content="https://laoazhang.cn/blog/2009/02/18/using-keyframes-webkit-css-animation-examples/">
<meta property="og:site_name" content="Laoazhang! Blog">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="I-NDFBl5t1P9fqHmRNZhwu8OOHmwW4HADPiOr_r16cE">



<link rel="canonical" href="https://laoazhang.cn/blog/2009/02/18/using-keyframes-webkit-css-animation-examples/">
<link href="https://laoazhang.cn/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">


<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,400,600,700' rel='stylesheet' type='text/css'>

<!-- For all browsers -->
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="https://laoazhang.cn/assets/js/vendor/modernizr/modernizr.js"></script>

<!-- Icons -->

<!-- favicon -->
<link rel="shortcut icon" href="https://laoazhang.cn/assets/ico/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://laoazhang.cn/assets/ico/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://laoazhang.cn/assets/ico/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://laoazhang.cn/assets/ico/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://laoazhang.cn/assets/ico/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="https://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="https://laoazhang.cn/index.html">Laoazhang.cn</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="https://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="https://laoazhang.cn/about" >About</a></li>
		        
				<li><a href="https://laoazhang.cn/blog" >Archive</a></li>
		        
				<li><a href="https://laoazhang.cn/presentations" >Preso</a></li>
		        
				<li><a href="https://laoazhang.cn/doodles" >Sketch Notes</a></li>
		        
				<li><a href="https://codepen.io/laoazhang" target="_blank">My CodePen</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="https://laoazhang.cn/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


<header role="banner">
</header>

<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
  <div class="article-author-side">
  	<img src="https://laoazhang.cn/assets/images/avatar.jpg" class="bio-photo" alt="laoazhang">
    <h3>laoazhang</h3>
<p class="bio">An Open Web advocate and front-end engineer, who loves everything mobile, and writes about HTML5, CSS, JS, UX, tech events, gadgets, etc. She unintentionally got 15min of fame by creating The HTTP Status Cats. Also, the opinions expressed here are solely her own and do not express the views or opinions of my employer.</p>
<a href="https://twitter.com/laoazhang" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="https://facebook.com/laoazhang" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>

<a href="https://linkedin.com/in/laoazhang" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="https://instagram.com/laoazhang" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="https://github.com/laoazhang" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>




        <p class="license">
      
    </p>

  </div>

  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      
      <time datetime="2009-02-18T00:00:00-08:00" itemprop="datePublished"><i class="icon-calendar"></i> February 18, 2009</time>

      
      <h1 itemprop="name">Using Keyframes &#8211; WebKit CSS Animation Examples</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->

    <div class="article-wrap" itemprop="text">
      <p>Now WebKit supports explicit CSS animations! After seeing the new animation examples posted on <a href="http://webkit.org/blog/324/css-animation-2/" target="_blank">WebKit.org</a>, I needed to test <code class="language-plaintext highlighter-rouge">keyframes</code> by myself.<br />
So I have created a dumb-downed version of the fallen leaves seen on webkit.org <a href="http://webkit.org/blog-files/leaves/index.html" target="_blank">blog</a>, called “Let it Snow”.</p>

<p>Unlike the fallen leaves example, I stick strictly with CSS only (means zero JavaScript). Also I tested on Webkit nightly and an iPhone (OS 2.0) Safari. On my iPhone (<code class="small">Mozilla/5.0 (iPhone; U; CPU iPhone OS 2_2 like Mac OS X; en-us) AppleWebKit/525.18.1 (KHTML, like Gecko) Version/3.1.1 Mobile/5G77 Safari/525.20</code>), the animation is slow and some feature is ingored.</p>

<p>Well, let’s see the “Let It Snow” animation <a href="http://girliemac.com/sandbox/snow.html" target="_blank">in action!</a></p>

<h2 id="how-to-use-keyframes">How to use Keyframes?</h2>

<p>Keyframes are specified with the CSS “At-Rule” by using the keyword,<strong>@-webkit-keyframes</strong>, followed by an identifier (= <em>animation-name</em>)</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@-webkit-keyframes</span> <span class="err">&lt;</span><span class="n">em</span><span class="err">&gt;</span><span class="n">animation-name</span> <span class="p">{</span>
 <span class="nt">from</span> <span class="p">{</span>
   <span class="err">style</span> <span class="err">definition</span> <span class="err">["Before"-state]</span>
 <span class="p">}</span>
 <span class="nt">to</span> <span class="p">{</span>
   <span class="err">style</span> <span class="err">definition</span> <span class="err">["After"-state]</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>A keyframe defines the styles applied within the animation. To specify multiple frames, use “%” instead of “from” and “to” keywords.<br />
Here’s an actual example I used for “Let it Snow”.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@-webkit-keyframes</span> <span class="n">fade</span> <span class="p">{</span>
  <span class="err">0</span><span class="o">%</span>   <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>
  <span class="err">10</span><span class="o">%</span>  <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.8</span><span class="p">;</span> <span class="p">}</span>
  <span class="err">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This style is applie to create each snow flake appearance. A snowflake blurry appears (increase opacity) when 10% of the time elapsed (The total time is defined later. I’ll explain it next).<br />
And at the end, the snowflake disappears (opacity back to zero).</p>

<p>Once the animation timeframe is defined, apply it using -webkit-animation-name and related properties.<br />
I set total animation duration as 5 seconds, and the animatin goes forever (= <em>infinite</em> times. The default is 1).<br />
See the simplified example below.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#snow</span> <span class="nt">div</span> <span class="p">{</span>
  <span class="nl">-webkit-animation-name</span><span class="p">:</span> <span class="n">fade</span><span class="p">;</span>
  <span class="nl">-webkit-animation-duration</span><span class="p">:</span> <span class="m">5s</span><span class="p">;</span>
  <span class="nl">-webkit-animation-iteration-count</span><span class="p">:</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"snow"</span> <span class="na">class=</span><span class="s">"snow"</span><span class="nt">&gt;</span>	
  <span class="nt">&lt;div&gt;</span><span class="ni">&amp;#10053;</span><span class="nt">&lt;/div&gt;</span> /* an entity for <span class="ni">&amp;#10053;</span> */
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h2 id="using-transform">Using Transform</h2>

<p>Let’s rotate and move around snowflakes by using <code class="small">-webkit-transform</code>.<br />
<code class="small">rotate</code>, of course, rotate the element, and <code class="small">translate</code> specifies a 2D translation by the vector [tx, ty]. (For more explanations, please see <a href="http://webkit.org/specs/CSSVisualEffects/CSSTransforms.html" target="_blank">CSS transform spec</a> page).<br />
I used percent, 0 and 100% here, but of course you can use “from” and “to”.<br />
Also note that <code class="small">transform</code> doesn’t seem to work on current iPhone Safari yet.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@-webkit-keyframes</span> <span class="n">spin</span><span class="p">{</span>
  <span class="err">0</span><span class="o">%</span>   <span class="p">{</span> <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">-180deg</span><span class="p">)</span> <span class="n">translate</span><span class="p">(</span><span class="m">0px</span><span class="p">,</span> <span class="m">0px</span><span class="p">);}</span>
  <span class="err">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">180deg</span><span class="p">)</span> <span class="n">translate</span><span class="p">(</span><span class="m">10px</span><span class="p">,</span> <span class="m">75px</span><span class="p">);}</span>
<span class="p">}</span>			
</code></pre></div></div>

<p>You can just add the amination-name to the #snow div selector, separating with comma.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#snow</span> <span class="nt">div</span> <span class="p">{</span>
  <span class="nl">-webkit-animation-name</span><span class="p">:</span> <span class="n">fade</span><span class="p">,</span> <span class="n">spin</span><span class="p">;</span>
  <span class="err">...</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="more">More</h2>

<p>For the “Let it snow” example, I also include the cheesy “accumulate” keyframe to make snow accumulate on ground. Kinda ugly though.<br />
Moreover, I gave the <code class="small">-webkit-animation-duration</code> to individual snowflake so all flakes don’t fall all together!</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.snowflake</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">2em</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="err">(</span><span class="py">Note</span><span class="p">:</span> <span class="n">The</span> <span class="n">parent</span> <span class="n">container</span> <span class="n">is</span> <span class="n">set</span> <span class="nb">relative</span> <span class="n">positioned</span><span class="err">!</span><span class="p">)</span>
<span class="p">}</span>
<span class="nc">.snowflake.f1</span> <span class="p">{</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">40px</span><span class="p">;</span>
  <span class="nl">-webkit-animation-duration</span><span class="p">:</span> <span class="m">5s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.snowflake.f2</span> <span class="p">{</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1.8em</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">120px</span><span class="p">;</span>
  <span class="nl">-webkit-animation-duration</span><span class="p">:</span> <span class="m">7s</span><span class="p">;</span>	
<span class="p">}</span>
<span class="o">...</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"snow"</span> <span class="na">class=</span><span class="s">"snow"</span><span class="nt">&gt;</span>	
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"snowflake f1"</span><span class="nt">&gt;</span><span class="ni">&amp;#10053;</span><span class="nt">&lt;/div&gt;</span> /* an entity for <span class="ni">&amp;#10053;</span> */
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"snowflake f2"</span><span class="nt">&gt;</span><span class="ni">&amp;#10052;</span><span class="nt">&lt;/div&gt;</span> /* an entity for <span class="ni">&amp;#10052;</span> */
  ... /* add two more snowflake-div in the actual sample) */
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>To view the entire markup and CSS, just view source of the <a href="http://girliemac.com/sandbox/snow.html" target="_blank">sample file</a>!</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="http://webkit.org/blog/138/css-animation/" target="_blank">Surfin’ Safari – CSS Animation</a></li>
  <li><a href="http://webkit.org/blog/324/css-animation-2/" target="_blank">Surfin’ Safari – CSS Animation 2</a></li>
  <li><a href="http://webkit.org/specs/CSSVisualEffects/CSSAnimation.html" target="_blank">CSS Effects proposed specifications – Animation</a></li>
  <li><a href="http://webkit.org/specs/CSSVisualEffects/CSSTransforms.html" target="_blank">CSS Effects proposed specifications – Transforms</a></li>
  <li><a href="http://developer.apple.com/documentation/appleapplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-VisualEffects" target="_blank">Safari Supported CSS Properties – “Visual Effects”</a></li>
  <li><a href="https://developer.apple.com/webapps/docs/samplecode/CardFlip/" target="_blank">Apple Web Apps Reference Library “CardFlip”</a> (Registration required)</li>
</ul>

      <hr>

      <!-- Pagination -->
      <ul class="pagination">
	      
	        <li class="prev"><a href="/blog/2009/02/17/tried-fennec-milestone-release-for-windows-mobile/" rel="prev">&larr; Tried Fennec Milestone Release for Windows Mobile</a></li>
	      
	      
	        <li class="next"><a href="/blog/2009/02/28/developing-applications-for-palm-webos/" rel="next">Developing Applications for Palm webOS &rarr;</a></li>
	      
	  </ul>

      <hr style="visibility:hidden;">

      <!-- Categories -->
      
	  <ul class="categories">
	      <li><i class="icon-drawer"></i></li>
	      

	      
		    
		    	<li data-size="27"><a href="/categories/#CSS">
		    		CSS
		    	</a></li>
		    
		    	<li data-size="44"><a href="/categories/#Dev">
		    		Dev
		    	</a></li>
		    
		    	<li data-size="34"><a href="/categories/#iPhone">
		    		iPhone
		    	</a></li>
		    
		    	<li data-size="16"><a href="/categories/#Sandbox">
		    		Sandbox
		    	</a></li>
		    
		    	<li data-size="33"><a href="/categories/#WebKit">
		    		WebKit
		    	</a></li>
		    
		  
	      

	  </ul>
	  

	  <!-- Disqus -->
	      <div id="disqus_thread" style="margin-top: 3em"></div>
		    <script type="text/javascript">
		        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'laoazhang'; // required: replace example with your forum shortname
				

		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">

    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<footer>
  <small class="copyright">
    <span>&copy; 2024 laoazhang. Powered by <a href="http://jekyllrb.com">Jekyll</a> with modified <em>Minimal Mistakes</em> theme. Hosted on <a href="http://github.com">Github</a>.
  </small>
</footer>

<script src="https://laoazhang.cn/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-2635445-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<script>

</script>

</body>
</html>
