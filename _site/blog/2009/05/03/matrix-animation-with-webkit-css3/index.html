<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Matrix Animation with WebKit CSS3 &#8211; Laoazhang! Blog</title>
<meta name="description" content="">
<meta name="keywords" content="">

<!-- Twitter cards -->
<meta name="twitter:site"    content="@laoazhang">
<meta name="twitter:creator" content="@laoazhang">


<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="https://laoazhang.cn/assets/images/avatar.jpg">



<meta name="twitter:title"   content="Matrix Animation with WebKit CSS3">



<meta name="twitter:description" content="If you only do what you can do, you will never be more than you are now">


<!-- end of Twitter cards -->

<!-- Web Monetization | Interledger -->
<meta name="monetization" content="$ilp.uphold.com/6NxbkHNq9N84">
<meta name="monetization" content="$twitter.xrptipbot.com/laoazhang" />

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Matrix Animation with WebKit CSS3">
<meta property="og:description" content="If you only do what you can do, you will never be more than you are now">
<meta property="og:url" content="https://laoazhang.cn/blog/2009/05/03/matrix-animation-with-webkit-css3/">
<meta property="og:site_name" content="Laoazhang! Blog">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="I-NDFBl5t1P9fqHmRNZhwu8OOHmwW4HADPiOr_r16cE">



<link rel="canonical" href="https://laoazhang.cn/blog/2009/05/03/matrix-animation-with-webkit-css3/">
<link href="https://laoazhang.cn/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">


<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,400,600,700' rel='stylesheet' type='text/css'>

<!-- For all browsers -->
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="https://laoazhang.cn/assets/js/vendor/modernizr/modernizr.js"></script>

<!-- Icons -->

<!-- favicon -->
<link rel="shortcut icon" href="https://laoazhang.cn/assets/ico/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://laoazhang.cn/assets/ico/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://laoazhang.cn/assets/ico/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://laoazhang.cn/assets/ico/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://laoazhang.cn/assets/ico/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="https://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="https://laoazhang.cn/index.html">Laoazhang.cn</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="https://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="https://laoazhang.cn/about" >About</a></li>
		        
				<li><a href="https://laoazhang.cn/blog" >Archive</a></li>
		        
				<li><a href="https://laoazhang.cn/presentations" >Preso</a></li>
		        
				<li><a href="https://laoazhang.cn/doodles" >Sketch Notes</a></li>
		        
				<li><a href="https://codepen.io/laoazhang" target="_blank">My CodePen</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="https://laoazhang.cn/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


<header role="banner">
</header>

<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
  <div class="article-author-side">
  	<img src="https://laoazhang.cn/assets/images/avatar.jpg" class="bio-photo" alt="laoazhang">
    <h3>laoazhang</h3>
<p class="bio">An Open Web advocate and front-end engineer, who loves everything mobile, and writes about HTML5, CSS, JS, UX, tech events, gadgets, etc. She unintentionally got 15min of fame by creating The HTTP Status Cats. Also, the opinions expressed here are solely her own and do not express the views or opinions of my employer.</p>
<a href="https://twitter.com/laoazhang" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="https://facebook.com/laoazhang" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>

<a href="https://linkedin.com/in/laoazhang" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="https://instagram.com/laoazhang" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="https://github.com/laoazhang" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>




        <p class="license">
      
    </p>

  </div>

  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      
      <time datetime="2009-05-03T00:00:00-07:00" itemprop="datePublished"><i class="icon-calendar"></i> May 03, 2009</time>

      
      <h1 itemprop="name">Matrix Animation with WebKit CSS3</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->

    <div class="article-wrap" itemprop="text">
      <p>I tweaked <a href="http://girliemac.com/blog/2009/02/18/using-keyframes-webkit-css-animation-examples/">the WebKit CSS3 Animation example I made last time</a> to create this “Matrix” animation for fun.</p>

<p>This is the screen capture of the animation on Safari 4.<br />
<img src="/assets/images/wp-content/misc/screenshot_css3matrix.png" alt="css3 animation screenshot" /></p>

<p>You can try<br />
<a href="http://girliemac.com/sandbox/matrix.html" target="_blank">the actual HTML page</a> and see it working on current WebKit Nightly build or Safari 4.</p>

<p>To display the Katakana characters, I used <code class="language-plaintext highlighter-rouge">@font-face</code> rule to embed a Katakana dingbat-like font, rather than using an actual Japanese input.<br />
Although I wanted display the kanakana vertically with using <code class="language-plaintext highlighter-rouge">writing-mode: tb-rl</code>, which I believe has been proposed for CSS2, this is not supported on Webkit so I had to use <code class="language-plaintext highlighter-rouge">-webkit-transform</code> to rotate each div to 90 degree to display vertically.<br />
This way, each letter faces 90 deg angle too, but oh well, this Japanese letters are random, used only for visual purpose and don’t mean anything so I guess this doesn’t matter for now.</p>

<p>Let’s take a look at some of the CSS3 code, I am showing only important parts so if you would like to view the entire code, just open up the htmlpage and use Webkit’s inspector!</p>

<h3 id="embed-a-katakana-font">Embed A Katakana Font</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@font-face</span> <span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">Katakana</span><span class="p">;</span>
  <span class="nl">src</span><span class="p">:</span> <span class="sx">url('MoonBeams-katakana_.TTF')</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#matrix</span><span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">Katakana</span><span class="p">;</span> <span class="c">/* use the embedded font */</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>	
  <span class="err">...</span> <span class="err">(more</span> <span class="err">styles</span> <span class="err">here)</span> <span class="err">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>@font-face rule is not supported by older Safari including iPhone.<br />
On supported browsers, you should be able to use either TrueType (.ttf) or OpenType (.otf).</p>

<h3 id="define-animations">Define Animations</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@-webkit-keyframes</span> <span class="n">fade</span><span class="p">{</span>
    <span class="err">0</span><span class="o">%</span>   <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;}</span>
    <span class="err">100</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
<span class="p">}</span>
<span class="k">@-webkit-keyframes</span> <span class="n">fall</span><span class="p">{</span>
   	<span class="nt">from</span> <span class="p">{</span><span class="nl">top</span><span class="p">:</span> <span class="m">-250px</span><span class="p">;}</span>
	<span class="nt">to</span> 	<span class="p">{</span><span class="nl">top</span><span class="p">:</span> <span class="m">300px</span><span class="p">;}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>I used both <em>%</em> and <em>from/to</em> keywords. But with %, you can define in-between state.</p>

<h3 id="rotate-the-katakana-strings">Rotate the Katakana Strings</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#matrix</span> <span class="nt">div</span><span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>	
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">-webkit-transform-origin</span><span class="p">:</span> <span class="m">0%</span><span class="p">;</span>
  <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">90deg</span><span class="p">);</span> 
  <span class="err">...</span>
</code></pre></div></div>

<p>By setting <code class="language-plaintext highlighter-rouge">-webkit-transform-origin</code> as 0%, the div block rotates 90 degrees at the far left.<br />
If you don’t set this, by default, it rotates at center axis.</p>

<h3 id="and-use-the-defined-animations">…and Use the Defined Animations</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">#matrix</span> <span class="nt">div</span><span class="p">{</span>
  <span class="err">...</span>
  <span class="nl">-webkit-animation-name</span><span class="p">:</span> <span class="n">fall</span><span class="p">,</span> <span class="n">fade</span><span class="p">;</span>			
  <span class="nl">-webkit-animation-iteration-count</span><span class="p">:</span> <span class="n">infinite</span><span class="p">;</span> <span class="c">/* use 0 to infinite */</span>
  <span class="nl">-webkit-animation-direction</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span> <span class="c">/* default is normal. use 'alternate' to reverse direction */</span>
  <span class="nl">-webkit-animation-timing-function</span><span class="p">:</span> <span class="n">ease-out</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For more detailed info on <code class="language-plaintext highlighter-rouge">-webkit-animation</code> properties, read <a href="http://developer.apple.com/documentation/appleapplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-VisualEffects" target="_blank">Apple’s Developer Connection</a></p>

<p>Again, this example is currently working only on the latest WebKit and Safari 4 (not iPhone).<br />
Google Chrome does not support <code class="language-plaintext highlighter-rouge">@font-face</code> or animation. (<code class="language-plaintext highlighter-rouge">-webkit-transform:rotate...</code> works), and I assume it does not work on Android either.<br />
(And I have no intention to try on other WebKit-base browsers like S60).</p>


      <hr>

      <!-- Pagination -->
      <ul class="pagination">
	      
	        <li class="prev"><a href="/blog/2009/04/30/css3-gradients-no-image-aqua-button/" rel="prev">&larr; CSS3 Gradients: No Image Aqua Button</a></li>
	      
	      
	        <li class="next"><a href="/blog/2009/06/01/mobile-safari-for-iphone-3-includes-geolocation/" rel="next">Mobile Safari for iPhone 3 includes Geolocation &rarr;</a></li>
	      
	  </ul>

      <hr style="visibility:hidden;">

      <!-- Categories -->
      
	  <ul class="categories">
	      <li><i class="icon-drawer"></i></li>
	      

	      
		    
		    	<li data-size="27"><a href="/categories/#CSS">
		    		CSS
		    	</a></li>
		    
		    	<li data-size="44"><a href="/categories/#Dev">
		    		Dev
		    	</a></li>
		    
		    	<li data-size="16"><a href="/categories/#Sandbox">
		    		Sandbox
		    	</a></li>
		    
		    	<li data-size="33"><a href="/categories/#WebKit">
		    		WebKit
		    	</a></li>
		    
		  
	      

	  </ul>
	  

	  <!-- Disqus -->
	      <div id="disqus_thread" style="margin-top: 3em"></div>
		    <script type="text/javascript">
		        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'laoazhang'; // required: replace example with your forum shortname
				

		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">

    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<footer>
  <small class="copyright">
    <span>&copy; 2024 laoazhang. Powered by <a href="http://jekyllrb.com">Jekyll</a> with modified <em>Minimal Mistakes</em> theme. Hosted on <a href="http://github.com">Github</a>.
  </small>
</footer>

<script src="https://laoazhang.cn/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-2635445-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<script>

</script>

</body>
</html>
