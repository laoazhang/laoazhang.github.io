<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Reiwa - JavaScript International Date Format and Japan's New Imperial Era &#8211; Laoazhang! Blog</title>
<meta name="description" content="The reign of the next emperor in Japan means you need to know about JavaScript international date and time format!">
<meta name="keywords" content="">

<!-- Twitter cards -->
<meta name="twitter:site"    content="@laoazhang">
<meta name="twitter:creator" content="@laoazhang">


<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="https://laoazhang.cn/assets/images/avatar.jpg">



<meta name="twitter:title"   content="Reiwa - JavaScript International Date Format and Japan's New Imperial Era">



<meta name="twitter:description" content="The reign of the next emperor in Japan means you need to know about JavaScript international date and time format!">


<!-- end of Twitter cards -->

<!-- Web Monetization | Interledger -->
<meta name="monetization" content="$ilp.uphold.com/6NxbkHNq9N84">
<meta name="monetization" content="$twitter.xrptipbot.com/laoazhang" />

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Reiwa - JavaScript International Date Format and Japan's New Imperial Era">
<meta property="og:description" content="The reign of the next emperor in Japan means you need to know about JavaScript international date and time format!">
<meta property="og:url" content="https://laoazhang.cn/blog/2019/04/02/javascript-i18n-reiwa-era/">
<meta property="og:site_name" content="Laoazhang! Blog">

<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="I-NDFBl5t1P9fqHmRNZhwu8OOHmwW4HADPiOr_r16cE">



<link rel="canonical" href="https://laoazhang.cn/blog/2019/04/02/javascript-i18n-reiwa-era/">
<link href="https://laoazhang.cn/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">


<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,400,600,700' rel='stylesheet' type='text/css'>

<!-- For all browsers -->
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="https://laoazhang.cn/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="https://laoazhang.cn/assets/js/vendor/modernizr/modernizr.js"></script>

<!-- Icons -->

<!-- favicon -->
<link rel="shortcut icon" href="https://laoazhang.cn/assets/ico/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://laoazhang.cn/assets/ico/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://laoazhang.cn/assets/ico/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://laoazhang.cn/assets/ico/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://laoazhang.cn/assets/ico/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="https://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="https://laoazhang.cn/index.html">Laoazhang.cn</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="https://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="https://laoazhang.cn/about" >About</a></li>
		        
				<li><a href="https://laoazhang.cn/blog" >Archive</a></li>
		        
				<li><a href="https://laoazhang.cn/presentations" >Preso</a></li>
		        
				<li><a href="https://laoazhang.cn/doodles" >Sketch Notes</a></li>
		        
				<li><a href="https://codepen.io/laoazhang" target="_blank">My CodePen</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="https://laoazhang.cn/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


<header role="banner">
</header>

<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
  <div class="article-author-side">
  	<img src="https://laoazhang.cn/assets/images/avatar.jpg" class="bio-photo" alt="laoazhang">
    <h3>laoazhang</h3>
<p class="bio">An Open Web advocate and front-end engineer, who loves everything mobile, and writes about HTML5, CSS, JS, UX, tech events, gadgets, etc. She unintentionally got 15min of fame by creating The HTTP Status Cats. Also, the opinions expressed here are solely her own and do not express the views or opinions of my employer.</p>
<a href="https://twitter.com/laoazhang" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="https://facebook.com/laoazhang" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>

<a href="https://linkedin.com/in/laoazhang" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="https://instagram.com/laoazhang" class="author-social" target="_blank"><i class="icon-instagram"></i> Instagram</a>
<a href="https://github.com/laoazhang" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>




        <p class="license">
      
    </p>

  </div>

  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      
      <time datetime="2019-04-02T00:00:00-07:00" itemprop="datePublished"><i class="icon-calendar"></i> April 02, 2019</time>

      
      <h1 itemprop="name">Reiwa - JavaScript International Date Format and Japan's New Imperial Era</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->

    <div class="article-wrap" itemprop="text">
      <p>As Emperor Akihito of Japan is set to abdicate soon, the Japanese government announced on April 1st that the reign of the next emperor will be known as the Reiwa (令和) era.</p>

<p><img src="https://cdn.cnn.com/cnnnext/dam/assets/190401111401-yoshihide-suga-reiwa-announcement-exlarge-169.jpg" alt="reiwa" /></p>

<p>You may wonder like, “Wait, Japan hasn’t adopted the Gregorian calendar system!?” – Well, yes Japan did over 100 years ago, however, Japan use both “Western” calendar and the unique Japanese Imperial year, which is based on the legendary foundation of Japan by Emperor Jimmu in 660 BC.</p>

<p>Anyway, what I want to talk about in my blog is not about Japanese history but JavaScript <code class="language-plaintext highlighter-rouge">Intl.DateTimeFormat</code> object that enable language and locale specific date and time formatting.</p>

<p><a href="https://tc39.github.io/ecma402/">The ECMAScript Internationalization API</a> was originally introduced in 2010, and currently in the 6th Edition, to help localize the output of dates, numbers, and currencies in Javascript. And this has been well supported by major browsers now. (See <a href="https://caniuse.com/#search=Intl">Can I use</a>)</p>

<p>One of the property of the <code class="language-plaintext highlighter-rouge">Intl</code> object is <a href="https://tc39.github.io/ecma402/#datetimeformat-objects"><code class="language-plaintext highlighter-rouge">DateTimeFormat</code></a>, which enable language and locale specific date and time formatting.</p>

<p>So yes, with the <code class="language-plaintext highlighter-rouge">Intl.DateTimeFormat</code> object, you can automatically print out the Japan local date and time with Japanese imperial era!</p>

<h2 id="using-datetimeformat">Using DateTimeFormat</h2>

<p>Without specifying a locale / language, <code class="language-plaintext highlighter-rouge">DateTimeFormat</code> uses the default locale and the default time zone, so when I am on my machine in the US:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">().</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>
</code></pre></div></div>
<p>returns today’s date in en-US as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"4/2/2019"
</code></pre></div></div>

<h3 id="specifying-locales">Specifying Locales</h3>

<p>You can get a localized date and time by using a locale identifier (language code and a country/region code) as the <code class="language-plaintext highlighter-rouge">locales</code> argument,  for example:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">ru-RU</span><span class="dl">'</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>

<span class="c1">// "02.04.2019"</span>
</code></pre></div></div>
<p>and Japan is:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">ja-JP</span><span class="dl">'</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>

<span class="c1">// "2019/4/2"</span>
</code></pre></div></div>

<p>Okay, but you still see the Gregorian calendar year here. So how can you make it fully localized with Imperial year?</p>

<p>Well, the locale identifier, <code class="language-plaintext highlighter-rouge">ja-JP</code>, is not enough and you need to add an extention <code class="language-plaintext highlighter-rouge">-u-ca-japanese</code>. I don’t know exactly what it means but all I can say is <code class="language-plaintext highlighter-rouge">ja-JP-u-ca-japanese</code> is an awkwardly complicated local code.</p>

<blockquote>

  <p>Edited: Thank you, <a href="https://twitter.com/brandelune">ジャンクリストフ</a> for letting me know that <code class="language-plaintext highlighter-rouge">-u</code> in the identifier indicates an extension, <code class="language-plaintext highlighter-rouge">-ca</code> says defines a type of calendar, in this case, <code class="language-plaintext highlighter-rouge">-japanese</code> calendar.
For more info on locale data, see: <a href="http://www.unicode.org/reports/tr35/#Locale_Extension_Key_and_Type_Data">Unicode Technical Standard #35</a></p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">ja-JP-u-ca-japanese</span><span class="dl">'</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>

<span class="c1">// "31/4/2"</span>
</code></pre></div></div>
<p>Now, we know it is the year 31. But what year is it? How can we know the Imperial name!?</p>

<p>To get the whole deal, use the <code class="language-plaintext highlighter-rouge">options</code> argument, in this case use <code class="language-plaintext highlighter-rouge">era</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">ja-JP-u-ca-japanese</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span><span class="na">era</span><span class="p">:</span><span class="dl">'</span><span class="s1">long</span><span class="dl">'</span><span class="p">}).</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>

<span class="c1">// ta-da! "平成31年4月2日"</span>
</code></pre></div></div>

<p>Oooh yeah, now you get “平成31年4月2日”!</p>

<p>Let’s try one more thing with Thai locale:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nc">DateTimeFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">th-TH-u-nu-thai</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span><span class="na">era</span><span class="p">:</span><span class="dl">'</span><span class="s1">long</span><span class="dl">'</span><span class="p">}).</span><span class="nf">format</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>

<span class="c1">// "๒ ๔ พุทธศักราช ๒๕๖๒"</span>
</code></pre></div></div>
<p>Woooh, I have no idea how to read this, but it is the year 2562 in Buddhist calendar!</p>

<p>Well, you can find details on the options and learn more about this topic on  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat">MDN Web Docs</a></p>

<p>Also, I quickly wrote up this silly little web app called <strong>Is it Reiwa (令和) yet?</strong> on <a href="https://reiwa-yet.glitch.me/">https://reiwa-yet.glitch.me/</a>. This should say <strong>No</strong> until May 1, 2019, when Crown Prince Naruhito becomes a new emperor, the imperial year should be changed to 令和元年, <em>if the new era is implemented in your browser!!!</em> So let’s update your browser and see!</p>

<hr />

<p>By the way, I totally didn’t blog on my own website last year, as writing technical tutorials has become a part of my day job, I don’t write when I am not paid as often. I hope I can start writing random technical posts again.</p>

      <hr>

      <!-- Pagination -->
      <ul class="pagination">
	      
	        <li class="prev"><a href="/blog/2017/12/28/edward-tufte-data/" rel="prev">&larr; Notes from Presenting Data & Information course by Edward Tufte</a></li>
	      
	      
	        <li class="next"><a href="/blog/2020/06/18/javascript-spread-operator/" rel="next">Spread Syntax "Three-dots" Tricks You Can Use Now &rarr;</a></li>
	      
	  </ul>

      <hr style="visibility:hidden;">

      <!-- Categories -->
      
	  <ul class="categories">
	      <li><i class="icon-drawer"></i></li>
	      

	      
		    
		    	<li data-size="1"><a href="/categories/#Intl.DateTimeFormat">
		    		Intl.DateTimeFormat
		    	</a></li>
		    
		    	<li data-size="10"><a href="/categories/#javascript">
		    		javascript
		    	</a></li>
		    
		    	<li data-size="1"><a href="/categories/#internationalization">
		    		internationalization
		    	</a></li>
		    
		    	<li data-size="1"><a href="/categories/#japan">
		    		japan
		    	</a></li>
		    
		  
	      

	  </ul>
	  

	  <!-- Disqus -->
	      <div id="disqus_thread" style="margin-top: 3em"></div>
		    <script type="text/javascript">
		        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'laoazhang'; // required: replace example with your forum shortname
				

		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">

    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<footer>
  <small class="copyright">
    <span>&copy; 2024 laoazhang. Powered by <a href="http://jekyllrb.com">Jekyll</a> with modified <em>Minimal Mistakes</em> theme. Hosted on <a href="http://github.com">Github</a>.
  </small>
</footer>

<script src="https://laoazhang.cn/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-2635445-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<script>

</script>

</body>
</html>
